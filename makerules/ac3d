##
# generic configuration
#######################

TYPE		:= LIBDYNAMIC
CFLAGS		:= -include ./src/Obj/XDefs.h
CXXFLAGS	:= -include ./src/Obj/XDefs.h

ifdef PLAT_MINGW
DEFINES		:= -DDIME_NOT_DLL -DUNDER_CE
LIBS		:= ./SDK/ac3d/ac3d.lib -lglu32 -lopengl32
REAL_TARGET	:= $(dir $(TARGET))/XPlaneSupportWin.p
endif #PLAT_MINGW

ifdef PLAT_LINUX
#LDFLAGS	:= -Wl,--unresolved-symbols=report-all
#LIBS		:= -Wl,-Bdynamic,--start-group -lGLU -lGL -lX11 -lXext
#LIBS		+= -lXdmcp -lXau -lxcb -lxcb-xlib
#LIBS		+= -ldl -lc -lpthread -lgcc -lgcc_eh -lstdc++ -Wl,--end-group
REAL_TARGET	:= $(dir $(TARGET))/XPlaneSupportLin.p
endif #PLAT_LINUX

ifdef PLAT_DARWIN
REAL_TARGET	:= $(dir $(TARGET))/XPlaneSupportMac.p
endif #PLAT_DARWIN


##
# include-, librarypaths
########################

LIBPATHS := -L./libs/local/lib

INCLUDEPATHS := $(MESA_HEADERS)
INCLUDEPATHS += -I./libs/local/include
INCLUDEPATHS += -I./libs/local/include/freetype2
INCLUDEPATHS += -I./src/linuxinit
INCLUDEPATHS += -I./src/WEDTCE
INCLUDEPATHS += -I./src/Env
INCLUDEPATHS += -I./src/DSF
INCLUDEPATHS += -I./src/GUI
INCLUDEPATHS += -I./src/GUI/mmenu
INCLUDEPATHS += -I./src/Interfaces
INCLUDEPATHS += -I./src/Obj
INCLUDEPATHS += -I./src/ObjEdit
INCLUDEPATHS += -I./src/OGLE
INCLUDEPATHS += -I./src/UI
INCLUDEPATHS += -I./src/WEDCore
INCLUDEPATHS += -I./src/WEDDocs
INCLUDEPATHS += -I./src/WEDEntities
INCLUDEPATHS += -I./src/WEDImportExport
INCLUDEPATHS += -I./src/WEDLayers
INCLUDEPATHS += -I./src/WEDLibrary
INCLUDEPATHS += -I./src/WEDMap
INCLUDEPATHS += -I./src/WEDProperties
INCLUDEPATHS += -I./src/WEDResources
INCLUDEPATHS += -I./src/WEDWindows
INCLUDEPATHS += -I./src/XPCompat
INCLUDEPATHS += -I./src/XPWidgets
INCLUDEPATHS += -I./src/Utils
INCLUDEPATHS += -I./src/XESCore
INCLUDEPATHS += -I./src/XESTools
INCLUDEPATHS += -I./src/Installer
INCLUDEPATHS += -I./src/Network
INCLUDEPATHS += -I./src/DSF/tri_stripper_101


##
# sources
#########

SOURCES := ./src/DSF/DSFLib.cpp
SOURCES += ./src/DSF/DSFLibWrite.cpp
SOURCES += ./src/DSF/DSFPointPool.cpp
SOURCES += ./src/DSF/tri_stripper_101/tri_stripper.cpp
SOURCES += ./src/Utils/AssertUtils.cpp
SOURCES += ./src/Utils/FileUtils.cpp
SOURCES += ./src/Utils/XChunkyFileUtils.cpp
SOURCES += ./src/Utils/md5.c
SOURCES += ./src/Obj/ObjConvert.cpp
SOURCES += ./src/Obj/ObjPointPool.cpp
SOURCES += ./src/Obj/XObjBuilder.cpp
SOURCES += ./src/Obj/XObjDefs.cpp
SOURCES += ./src/Obj/XObjReadWrite.cpp
SOURCES += ./src/AC3DPlugins/obj_editor.cpp
SOURCES += ./src/AC3DPlugins/ac_utils.cpp
SOURCES += ./src/AC3DPlugins/bitmap_match.cpp
SOURCES += ./src/AC3DPlugins/dsf_export.cpp
SOURCES += ./src/AC3DPlugins/obj8_export.cpp
SOURCES += ./src/AC3DPlugins/obj8_import.cpp
SOURCES += ./src/AC3DPlugins/obj_anim.cpp
SOURCES += ./src/AC3DPlugins/obj_model.cpp
SOURCES += ./src/AC3DPlugins/obj_panel.cpp
SOURCES += ./src/AC3DPlugins/obj_radius.cpp
SOURCES += ./src/AC3DPlugins/obj_tools.cpp
SOURCES += ./src/AC3DPlugins/obj_update.cpp
SOURCES += ./src/AC3DPlugins/prefs.cpp
SOURCES += ./src/AC3DPlugins/tcl_utils.cpp
SOURCES += ./src/AC3DPlugins/TclStubs.cpp
SOURCES += ./src/AC3DPlugins/uv_mapper.cpp
SOURCES += ./src/AC3DPlugins/xp_plugin.cpp
